# Requirements (MVP)

## 1. Functional Requirements
1. ティッカー入力
- 自由入力で任意のYahoo Financeティッカーを指定できること
- プリセット（Magnificent 7, ^N225, ^GSPC, BTC-USD, JPY=X, EURUSD=X など）を選択できること

2. データ取得
- Yahoo Financeから日足OHLCVを取得できること
- 取得可能な全期間を扱えること
- 画面初期表示期間は直近10年であること（設定で変更可能）

3. 暴落検出
- 単一条件モードとスコアモードを切替可能であること
- 以下指標を全て計算し判定に利用すること:
  - Z値, RSI, CRSI
  - ドローダウン率
  - ドローダウン速度（5日/10日）
  - ATR%
  - 出来高ショック
  - 200日線割れ + 200日線傾き
  - ギャップダウン頻度
  - 52週安値更新
  - ブレッドス（指数のみ有効）

4. イベント表示
- 暴落イベント日をランキング表示できること
- イベント選択時、前10日/後50日をデフォルトで可視化できること（変更可能）
- イベントマーカーをチャート上に表示できること

5. 学習機能
- イベント比較を最大4件同時表示できること
- 類似局面検索を提供すること
- 類似局面検索の初期対象は同一銘柄内であること

6. バックテスト
- テンプレート方式で戦略検証できること
- KPI: CAGR, 最大DD, Sharpe, Sortino, Calmar, 勝率, Profit Factor, 平均保有日数
- コスト/スリッページはデフォルトOFF、任意ON

7. 設定
- 指標パラメータを設定画面で変更できること
- プリセット銘柄を設定ファイル編集で変更できること

8. 言語・法務
- UIは日本語
- 将来英語化可能な文言分離
- 免責文を常時表示

## 2. Acceptance Criteria
- 任意ティッカーでデータ取得・描画・イベントランキングが動作する
- 全必須指標が設定値に応じて再計算される
- 単一条件/スコアモードの切替でイベント順序が変化する
- 比較画面で4イベントの同期表示ができる
- 類似局面検索で上位候補が返る
- バックテスト結果がKPI付きで出力される
